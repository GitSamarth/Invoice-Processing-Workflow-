# üìÑ Invoice Processing & Notification Workflow (n8n)

## üìù Overview
This workflow automates the processing of newly uploaded invoice PDFs in Google Drive, extracts key billing information, stores it in a Google Sheet, and sends a notification email to the internal billing team.  
Designed for **zero manual entry**, it ensures invoices are logged and communicated instantly.

---

## ‚ú® Features
- **Automated Trigger** when a new invoice PDF is added to a Google Drive folder.
- **Text Extraction** from invoices using n8n's **Extract From File** node.
- **AI-powered Information Extraction** to retrieve the **8 required fields** from any invoice format.
- **Google Sheets as a Database** ‚Äì stores invoice data for tracking and reporting.
- **Automated Email Notification** to the billing team with subject & body generated by AI.
- Works with **multiple invoice formats** while ensuring required fields are always extracted.

---

## üìã Prerequisites
- [n8n](https://n8n.io/) installed or accessible in the cloud.
- Google Drive folder dedicated for invoices.
- Google Sheets document for storing invoice data.
- OpenAI or compatible LLM API key (for AI extraction & email drafting).
- Gmail account for sending email notifications.

---

## üõ†Ô∏è Workflow Steps

1. **Trigger: Google Drive ‚Äì Watch for New File**  
   - Monitors the invoice folder for any newly uploaded PDFs.  
   - You can rename the folder to suit your organization.

2. **Download File ‚Äì Google Drive Node**  
   - Downloads the newly uploaded invoice.

3. **Extract From File Node**  
   - Reads text from the invoice PDF.  
   - Output will be used by the AI extractor.

4. **AI Extraction ‚Äì LLM Node**  
   - Extracts the following **8 required fields**:  
     - Invoice Number  
     - Client Name  
     - Client Email  
     - Client Address  
     - Client Phone  
     - Total Amount  
     - Invoice Date  
     - Due Date  
   - Works across multiple invoice layouts.

5. **Google Sheets ‚Äì Append Row**  
   - Appends extracted invoice data into your Google Sheet (acting as a **database**).

6. **AI Email Draft ‚Äì OpenAI Chat Model Node**  
   - **User Prompt:**
     ```plaintext
     {{ $json['Invoice Number'] }}  
     Invoice Number:  
     Client Name: {{ $json['Client Name'] }}  
     Client Email: {{ $json['Client Email'] }}  
     Total Amount: {{ $json['Total Amount'] }}  
     Invoice Date: {{ $json['Invoice Date'] }}  
     Due Date: {{ $json['Due Date'] }}
     ```
   - **System Prompt:**
     ```plaintext
     # Overview
     You are an email expert for the organization. You will receive invoice information. Your job is to notify the internal billing team that an invoice was received/sent.

     # Email
     Inform the Billing team of the invoice. Let them know that we have also updated this in the database and they can view it here: <Google_Sheet_Link>

     # Output
     Output the following parameters separately:
     Subject
     Email
     ```

7. **Send Email ‚Äì Gmail Node**  
   - Sends the generated subject & email body to the internal billing team.  
   - Email address is predefined in the Gmail node configuration.

---

## üí° Notes
- Replace `<Google_Sheet_Link>` with the link to your invoice tracking sheet.
- Google Sheets is being used as a **simple, accessible database** for invoice records.
- The **AI extractor** is designed to work with various invoice formats.
- You can expand the workflow to include **Slack notifications** or **database storage**.

---


